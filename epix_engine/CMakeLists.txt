cmake_minimum_required(VERSION 3.21)

set(EPIX_ENABLE_TRACY OFF)
set(EPIX_WITH_SHARED OFF)
option(EPIX_USE_VOLK "Use Vulkan Loader" ON)
set(EPIX_USE_VOLK ON)

function(epix_parse_options)
  if(EPIX_ENABLE_TRACY)
    target_compile_definitions(${ARGN} PRIVATE EPIX_ENABLE_TRACY)
  endif()
  if(EPIX_USE_VOLK)
    target_compile_definitions(${ARGN} PUBLIC EPIX_USE_VOLK)
  endif()
  if(EPIX_WITH_SHARED)
    target_compile_definitions(${ARGN} PUBLIC EPIX_SHARED)
    target_compile_definitions(${ARGN} PRIVATE EPIX_BUILD_SHARED)
  endif()
endfunction()

add_subdirectory(core)
add_subdirectory(input)
add_subdirectory(assets)
add_subdirectory(window)
add_subdirectory(transform)
add_subdirectory(image)
add_subdirectory(render)
add_subdirectory(sprite)
add_subdirectory(text)